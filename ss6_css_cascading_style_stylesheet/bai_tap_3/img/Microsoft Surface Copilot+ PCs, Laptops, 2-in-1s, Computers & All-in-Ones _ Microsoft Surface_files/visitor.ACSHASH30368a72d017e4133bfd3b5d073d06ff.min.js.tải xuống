/*

 Adobe Visitor API for JavaScript version: 4.4.0
 Copyright 2019 Adobe, Inc. All Rights Reserved
 More info available at https://marketing.adobe.com/resources/help/en_US/mcvid/
*/
'use strict';var e=function(){function N(d){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(d)}function O(d,f,g){return f in d?Object.defineProperty(d,f,{value:g,enumerable:!0,configurable:!0,writable:!0}):d[f]=g,d}function P(d,f,g){d=null==d?void 0:d[f];return void 0===d?g:d}function R(d,f){if(d===f)return 0;d=d.toString().split(".");
f=f.toString().split(".");a:{var g=d.concat(f);for(var c=/^\d+$/,k=0,m=g.length;k<m;k++)if(!c.test(g[k])){g=!1;break a}g=!0}if(g){for(;d.length<f.length;)d.push("0");for(;f.length<d.length;)f.push("0");a:{for(g=0;g<d.length;g++){c=parseInt(d[g],10);k=parseInt(f[g],10);if(c>k){d=1;break a}if(k>c){d=-1;break a}}d=0}}else d=NaN;return d}function ka(){var d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},f=d.cookieName,g=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).cookies;return d.isEnabled&&
f&&g?{remove:function(){g.remove(f)},get:function(){var c=g.get(f),k={};try{k=JSON.parse(c)}catch(m){k={}}return k},set:function(c,k){k=k||{};g.set(f,JSON.stringify(c),{domain:k.optInCookieDomain||"",cookieLifetime:k.optInStorageExpiry||3419E4,expires:!0})}}:{get:ba,set:ba,remove:ba}}function ca(d){this.name=this.constructor.name;this.message=d;"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error(d).stack}function la(){function d(C,z){C=ma(C);
return C.length?C.every(function(G){return!!z[G]}):Ia(z)}function f(){I=S;Q=T.COMPLETE;y(v.status,v.permissions);x.set(v.permissions,{optInCookieDomain:r,optInStorageExpiry:q});F.execute(ra)}function g(C){return function(z,G){if(!na(z))throw Error("[OptIn] Invalid category(-ies). Please use the `OptIn.Categories` enum.");return Q=T.CHANGED,Object.assign(S,sa(ma(z),C)),G||f(),v}}var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},k=c.doesOptInApply,m=c.preOptInApprovals,p=c.isOptInStorageEnabled,
r=c.optInCookieDomain,q=c.optInStorageExpiry,n=c.isIabContext,a=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).cookies;c=Ja(c.previousPermissions);ha(c)||da.error("".concat("Invalid `previousPermissions`!"));ha(m)||da.error("".concat("Invalid `preOptInApprovals`!"));var x=ka({isEnabled:!!p,cookieName:"adobeujs-optin"},{cookies:a}),v=this,y=Ka(v),F=ta();p=ua(c);var H=ua(m);a=x.get();var J={},Q=function(C,z){return ha(C)||z&&ha(z)?T.COMPLETE:T.PENDING}(p,a),I=function(C,z,G){var M=sa(ia,
!k);return k?Object.assign({},M,C,z,G):M}(H,p,a),S=JSON.parse(JSON.stringify(I));v.deny=g(!1);v.approve=g(!0);v.denyAll=v.deny.bind(v,ia);v.approveAll=v.approve.bind(v,ia);v.isApproved=function(C){return d(C,v.permissions)};v.isPreApproved=function(C){return d(C,H)};v.fetchPermissions=function(C){var z=1<arguments.length&&void 0!==arguments[1]&&arguments[1],G=z?v.on(T.COMPLETE,C):ba;return!k||k&&v.isComplete||m?C(v.permissions):z||F.add(ra,function(){return C(v.permissions)}),G};v.complete=function(){v.status===
T.CHANGED&&f()};v.registerPlugin=function(C){if(!C||!C.name||"function"!=typeof C.onRegister)throw Error(La);J[C.name]||(J[C.name]=C,C.onRegister.call(C,v))};v.execute=Ma(J);Object.defineProperties(v,{permissions:{get:function(){return I}},status:{get:function(){return Q}},Categories:{get:function(){return X}},doesOptInApply:{get:function(){return!!k}},isPending:{get:function(){return v.status===T.PENDING}},isComplete:{get:function(){return v.status===T.COMPLETE}},__plugins:{get:function(){return Object.keys(J)}},
isIabContext:{get:function(){return n}}})}function va(d,f){if(void 0===f)return d;var g=setTimeout(function(){g=null;d.call(d,new ca("The call took longer than you wanted!"))},f);return function(){g&&(clearTimeout(g),d.apply(d,arguments))}}function wa(){if(window.__cmp)return window.__cmp;var d=window;if(d===window.top)return void da.error("__cmp not found");for(var f;!f;){d=d.parent;try{d.frames.__cmpLocator&&(f=d)}catch(c){}if(d===window.top)break}if(!f)return void da.error("__cmp not found");var g=
{};return window.__cmp=function(c,k,m){var p=Math.random()+"";c={__cmpCall:{command:c,parameter:k,callId:p}};g[p]=m;f.postMessage(c,"*")},window.addEventListener("message",function(c){var k=c.data;if("string"==typeof k)try{k=JSON.parse(c.data)}catch(m){}k.__cmpReturn&&(c=k.__cmpReturn,g[c.callId]&&(g[c.callId](c.returnValue,c.success),delete g[c.callId]))},!1),window.__cmp}var B="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=
typeof self?self:{};Object.assign=Object.assign||function(d){for(var f,g,c=1;c<arguments.length;++c)for(f in g=arguments[c],g)Object.prototype.hasOwnProperty.call(g,f)&&(d[f]=g[f]);return d};var U,Y,V={HANDSHAKE:"HANDSHAKE",GETSTATE:"GETSTATE",PARENTSTATE:"PARENTSTATE"},ea={MCMID:"getMarketingCloudVisitorID",MCAID:"getAnalyticsVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"isOptedOut",ALLFIELDS:"getVisitorValues"},Na={MCMID:"MCMID",MCOPTOUT:"MCOPTOUT",
MCAID:"MCAID",MCAAMLH:"MCAAMLH",MCAAMB:"MCAAMB"},Oa={UNKNOWN:0,AUTHENTICATED:1,LOGGED_OUT:2},Pa={GLOBAL:"global"},Qa=function(d){function f(){}function g(c,k){var m=this;return function(){var p=d(0,c),r={};return r[c]=p,m.setStateAndPublish(r),k(p),p}}this.getMarketingCloudVisitorID=function(c){c=c||f;var k=this.findField("MCMID",c);c=g.call(this,"MCMID",c);return void 0!==k?k:c()};this.getVisitorValues=function(c){this.getMarketingCloudVisitorID(function(k){c({MCMID:k})})}},xa={CUSTOMERIDS:"getCustomerIDs"},
Ra=function(){function d(){}function f(g,c){var k=this;return function(){return k.callbackRegistry.add(g,c),k.messageParent(V.GETSTATE),""}}Object.keys(ea).forEach(function(g){this[ea[g]]=function(c){c=c||d;var k=this.findField(g,c);c=f.call(this,g,c);return void 0!==k?k:c()}},this);Object.keys(xa).forEach(function(g){this[xa[g]]=function(){return this.findField(g,d)||{}}},this)},Sa=function(){Object.keys(ea).forEach(function(d){this[ea[d]]=function(f){this.callbackRegistry.add(d,f)}},this)},E=function(d,
f){return f={exports:{}},d(f,f.exports),f.exports}(function(d,f){f.isObjectEmpty=function(g){return g===Object(g)&&0===Object.keys(g).length};f.isValueEmpty=function(g){return""===g||f.isObjectEmpty(g)};f.getIeVersion=function(){if(document.documentMode)return document.documentMode;for(var g=7;4<g;g--){var c=document.createElement("div");if(c.innerHTML="\x3c!--[if IE "+g+"]\x3e\x3cspan\x3e\x3c/span\x3e\x3c![endif]--\x3e",c.getElementsByTagName("span").length)return g}return null};f.encodeAndBuildRequest=
function(g,c){return g.map(encodeURIComponent).join(c)};f.isObject=function(g){return null!==g&&"object"===N(g)&&!1===Array.isArray(g)};f.defineGlobalNamespace=function(){return window.adobe=f.isObject(window.adobe)?window.adobe:{},window.adobe};f.pluck=function(g,c){return c.reduce(function(k,m){return g[m]&&(k[m]=g[m]),k},Object.create(null))};f.parseOptOut=function(g,c,k){c||(c=k,g.d_optout&&g.d_optout instanceof Array&&(c=g.d_optout.join(",")));g=parseInt(g.d_ottl,10);return isNaN(g)&&(g=7200),
{optOut:c,d_ottl:g}};f.normalizeBoolean=function(g){var c=g;return"true"===g?c=!0:"false"===g&&(c=!1),c}}),Ta=(E.isObjectEmpty,E.isValueEmpty,E.getIeVersion,E.encodeAndBuildRequest,E.isObject,E.defineGlobalNamespace,E.pluck,E.parseOptOut,E.normalizeBoolean,function(){return{callbacks:{},add:function(d,f){this.callbacks[d]=this.callbacks[d]||[];var g=this.callbacks[d].push(f)-1,c=this;return function(){c.callbacks[d].splice(g,1)}},execute:function(d,f){if(this.callbacks[d]){f=void 0===f?[]:f;f=f instanceof
Array?f:[f];try{for(;this.callbacks[d].length;){var g=this.callbacks[d].shift();"function"==typeof g?g.apply(null,f):g instanceof Array&&g[1].apply(g[0],f)}delete this.callbacks[d]}catch(c){}}},executeAll:function(d,f){(f||d&&!E.isObjectEmpty(d))&&Object.keys(this.callbacks).forEach(function(g){this.execute(g,void 0!==d[g]?d[g]:"")},this)},hasCallbacks:function(){return!!Object.keys(this.callbacks).length}}}),Ua={0:"prefix",1:"orgID",2:"state"},ya=function(d,f){this.parse=function(g){try{var c={};
return g.data.split("|").forEach(function(k,m){void 0!==k&&(c[Ua[m]]=2!==m?k:JSON.parse(k))}),c}catch(k){}};this.isInvalid=function(g){var c=this.parse(g);if(!c||2>Object.keys(c).length)return!0;var k=d!==c.orgID;g=!f||g.origin!==f;c=-1===Object.keys(V).indexOf(c.prefix);return k||g||c};this.send=function(g,c,k){c=c+"|"+d;k&&k===Object(k)&&(c+="|"+JSON.stringify(k));try{g.postMessage(c,f)}catch(m){}}},Va=function(d,f,g,c){function k(y){v.isInvalid(y)||(x=!1,y=v.parse(y),n.setStateAndPublish(y.state))}
function m(y){!x&&a&&(x=!0,v.send(c,y))}function p(){Object.assign(n,new Qa(g._generateID));n.getMarketingCloudVisitorID();n.callbackRegistry.executeAll(n.state,!0);B.removeEventListener("message",r)}function r(y){v.isInvalid(y)||(y=v.parse(y),x=!1,B.clearTimeout(n._handshakeTimeout),B.removeEventListener("message",r),Object.assign(n,new Ra(n)),B.addEventListener("message",k),n.setStateAndPublish(y.state),n.callbackRegistry.hasCallbacks()&&m(V.GETSTATE))}function q(){Object.keys(g).forEach(function(y){0!==
y.indexOf("_")&&"function"==typeof g[y]&&(n[y]=function(){})});n.getSupplementalDataID=g.getSupplementalDataID;n.isAllowed=function(){return!0}}var n=this,a=f.whitelistParentDomain;n.state={ALLFIELDS:{}};n.version=g.version;n.marketingCloudOrgID=d;n.cookieDomain=g.cookieDomain||"";n._instanceType="child";var x=!1,v=new ya(d,a);n.callbackRegistry=Ta();n.init=function(){B.s_c_in||(B.s_c_il=[],B.s_c_in=0);n._c="Visitor";n._il=B.s_c_il;n._in=B.s_c_in;n._il[n._in]=n;B.s_c_in++;q();Object.assign(n,new Sa(n));
a&&postMessage?(B.addEventListener("message",r),m(V.HANDSHAKE),n._handshakeTimeout=setTimeout(p,250)):p()};n.findField=function(y,F){if(void 0!==n.state[y])return F(n.state[y]),n.state[y]};n.messageParent=m;n.setStateAndPublish=function(y){Object.assign(n.state,y);Object.assign(n.state.ALLFIELDS,y);n.callbackRegistry.executeAll(n.state)}},za={MCMID:"getMarketingCloudVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"isOptedOut",MCAID:"getAnalyticsVisitorID",
CUSTOMERIDS:"getCustomerIDs",ALLFIELDS:"getVisitorValues"},Wa={MC:"MCMID",A:"MCAID",AAM:"MCAAMB"},Xa=function(d,f){function g(){var q={};return Object.keys(za).forEach(function(n){var a=d[za[n]]();E.isValueEmpty(a)||(q[n]=a)}),q}function c(){var q=[];return d._loading&&Object.keys(d._loading).forEach(function(n){d._loading[n]&&q.push(Wa[n])}),q.length?q:null}function k(q){return function x(a){if(a=c())d[ea[a[0]]](x,!0);else q()}}function m(q){r(q);var n=V.HANDSHAKE,a=g();f.send(q,n,a)}function p(q){k(function(){var n=
V.PARENTSTATE,a=g();f.send(q,n,a)})()}function r(q){var n=d.setCustomerIDs;d.setCustomerIDs=function(a){n.call(d,a);f.send(q,V.PARENTSTATE,{CUSTOMERIDS:d.getCustomerIDs()})}}return function(q){f.isInvalid(q)||(f.parse(q).prefix===V.HANDSHAKE?m:p)(q.source)}},Ya=function(d,f){function g(p){return function(r){c[p]=r;k++;k===m&&f(c)}}var c={},k=0,m=Object.keys(d).length;Object.keys(d).forEach(function(p){var r=d[p];if(r.fn){var q=r.args||[];q.unshift(g(p));r.fn.apply(r.context||null,q)}})},Z={get:function(d){d=
encodeURIComponent(d);var f=(";"+document.cookie).split(" ").join(";"),g=f.indexOf(";"+d+"\x3d"),c=0>g?g:f.indexOf(";",g+1);return 0>g?"":decodeURIComponent(f.substring(g+2+d.length,0>c?f.length:c))},set:function(d,f,g){var c=P(g,"cookieLifetime"),k=P(g,"expires"),m=P(g,"domain");g=P(g,"secure")?"Secure":"";if(k&&"SESSION"!==c&&"NONE"!==c){var p=""!==f?parseInt(c||0,10):-60;p?(k=new Date,k.setTime(k.getTime()+1E3*p)):1===k&&(k=new Date,p=k.getYear(),k.setYear(p+2+(1900>p?1900:0)))}else k=0;return d&&
"NONE"!==c?(document.cookie=encodeURIComponent(d)+"\x3d"+encodeURIComponent(f)+"; path\x3d/;"+(k?" expires\x3d"+k.toGMTString()+";":"")+(m?" domain\x3d"+m+";":"")+g,this.get(d)===f):0},remove:function(d,f){f=(f=P(f,"domain"))?" domain\x3d"+f+";":"";document.cookie=encodeURIComponent(d)+"\x3d; Path\x3d/; Expires\x3dThu, 01 Jan 1970 00:00:01 GMT;"+f}},Aa=function(d){var f;!d&&B.location&&(d=B.location.hostname);var g=d.split(".");for(d=g.length-2;0<=d;d--)if(f=g.slice(d).join("."),Z.set("test","cookie",
{domain:f}))return Z.remove("test",{domain:f}),f;return""},Ba={compare:R,isLessThan:function(d,f){return 0>R(d,f)},areVersionsDifferent:function(d,f){return 0!==R(d,f)},isGreaterThan:function(d,f){return 0<R(d,f)},isEqual:function(d,f){return 0===R(d,f)}},Ca=!!B.postMessage,oa={postMessage:function(d,f,g){var c=1;f&&(Ca?g.postMessage(d,f.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):f&&(g.location=f.replace(/#.*$/,"")+"#"+ +new Date+c++ +"\x26"+d))},receiveMessage:function(d,f){var g;try{Ca&&(d&&(g=function(c){if("string"==
typeof f&&c.origin!==f||"[object Function]"===Object.prototype.toString.call(f)&&!1===f(c.origin))return!1;d(c)}),B.addEventListener?B[d?"addEventListener":"removeEventListener"]("message",g):B[d?"attachEvent":"detachEvent"]("onmessage",g))}catch(c){}}},Za=function(d){var f="0123456789",g="",c="",k=8,m=10,p=10;if(1==d){f+="ABCDEF";for(d=0;16>d;d++){var r=Math.floor(Math.random()*k);g+=f.substring(r,r+1);r=Math.floor(Math.random()*k);c+=f.substring(r,r+1);k=16}return g+"-"+c}for(d=0;19>d;d++)r=Math.floor(Math.random()*
m),g+=f.substring(r,r+1),0===d&&9==r?m=3:(1==d||2==d)&&10!=m&&2>r?m=10:2<d&&(m=10),r=Math.floor(Math.random()*p),c+=f.substring(r,r+1),0===d&&9==r?p=3:(1==d||2==d)&&10!=p&&2>r?p=10:2<d&&(p=10);return g+c},$a=function(d,f){return{corsMetadata:function(){var g="none",c=!0;return"undefined"!=typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?g="XMLHttpRequest":"undefined"!=typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(c=!1),0<Object.prototype.toString.call(B.HTMLElement).indexOf("Constructor")&&
(c=!1)),{corsType:g,corsCookiesEnabled:c}}(),getCORSInstance:function(){return"none"===this.corsMetadata.corsType?null:new B[this.corsMetadata.corsType]},fireCORS:function(g,c,k){var m=this;c&&(g.loadErrorHandler=c);try{var p=this.getCORSInstance();p.open("get",g.corsUrl+"\x26ts\x3d"+(new Date).getTime(),!0);"XMLHttpRequest"===this.corsMetadata.corsType&&(p.withCredentials=!0,p.timeout=d.loadTimeout,p.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),p.onreadystatechange=function(){if(4===
this.readyState&&200===this.status)a:{var r;try{if((r=JSON.parse(this.responseText))!==Object(r)){m.handleCORSError(g,null,"Response is not JSON");break a}}catch(x){m.handleCORSError(g,x,"Error parsing response as JSON");break a}try{for(var q=g.callback,n=B,a=0;a<q.length;a++)n=n[q[a]];n(r)}catch(x){m.handleCORSError(g,x,"Error forming callback function")}}});p.onerror=function(r){m.handleCORSError(g,r,"onerror")};p.ontimeout=function(r){m.handleCORSError(g,r,"ontimeout")};p.send();d._log.requests.push(g.corsUrl)}catch(r){this.handleCORSError(g,
r,"try-catch")}},handleCORSError:function(g,c,k){d.CORSErrors.push({corsData:g,error:c,description:k});g.loadErrorHandler&&("ontimeout"===k?g.loadErrorHandler(!0):g.loadErrorHandler(!1))}}},aa=!!B.postMessage,ja=/^[0-9a-fA-F\-]+$/,Da=/vVersion\|((\d+\.)?(\d+\.)?(\*|\d+))(?=$|\|)/,ab=function(d,f){var g=B.document;return{THROTTLE_START:3E4,MAX_SYNCS_LENGTH:649,throttleTimerSet:!1,id:null,onPagePixels:[],iframeHost:null,getIframeHost:function(c){if("string"==typeof c)return c=c.split("/"),c[0]+"//"+
c[2]},subdomain:null,url:null,getUrl:function(){var c,k="http://fast.",m="?d_nsid\x3d"+d.idSyncContainerID+"#"+encodeURIComponent(g.location.origin);return this.subdomain||(this.subdomain="nosubdomainreturned"),d.loadSSL&&(k=d.idSyncSSLUseAkamai?"https://fast.":"https://"),c=k+this.subdomain+".demdex.net/dest5.html"+m,this.iframeHost=this.getIframeHost(c),this.id="destination_publishing_iframe_"+this.subdomain+"_"+d.idSyncContainerID,c},checkDPIframeSrc:function(){var c="?d_nsid\x3d"+d.idSyncContainerID+
"#"+encodeURIComponent(g.location.href);"string"==typeof d.dpIframeSrc&&d.dpIframeSrc.length&&(this.id="destination_publishing_iframe_"+(d._subdomain||this.subdomain||(new Date).getTime())+"_"+d.idSyncContainerID,this.iframeHost=this.getIframeHost(d.dpIframeSrc),this.url=d.dpIframeSrc+c)},idCallNotProcesssed:null,doAttachIframe:!1,startedAttachingIframe:!1,iframeHasLoaded:null,iframeIdChanged:null,newIframeCreated:null,originalIframeHasLoadedAlready:null,iframeLoadedCallbacks:[],regionChanged:!1,
timesRegionChanged:0,sendingMessages:!1,messages:[],messagesPosted:[],messagesReceived:[],messageSendingInterval:aa?null:100,onPageDestinationsFired:[],jsonForComparison:[],jsonDuplicates:[],jsonWaiting:[],jsonProcessed:[],canSetThirdPartyCookies:!0,receivedThirdPartyCookiesNotification:!1,readyToAttachIframePreliminary:function(){return!(d.idSyncDisableSyncs||d.disableIdSyncs||d.idSyncDisable3rdPartySyncing||d.disableThirdPartyCookies||d.disableThirdPartyCalls)},readyToAttachIframe:function(){return this.readyToAttachIframePreliminary()&&
(this.doAttachIframe||d._doAttachIframe)&&(this.subdomain&&"nosubdomainreturned"!==this.subdomain||d._subdomain)&&this.url&&!this.startedAttachingIframe},attachIframe:function(){function c(){p=g.createElement("iframe");p.sandbox="allow-scripts allow-same-origin";p.title="Adobe ID Syncing iFrame";p.id=m.id;p.name=m.id+"_name";p.style.cssText="display: none; width: 0; height: 0;";p.src=m.url;m.newIframeCreated=!0;k();g.body.appendChild(p)}function k(r){p.addEventListener("load",function(){p.className=
"aamIframeLoaded";m.iframeHasLoaded=!0;m.fireIframeLoadedCallbacks(r);m.requestToProcess()})}this.startedAttachingIframe=!0;var m=this,p=g.getElementById(this.id);p?"IFRAME"!==p.nodeName?(this.id+="_2",this.iframeIdChanged=!0,c()):(this.newIframeCreated=!1,"aamIframeLoaded"!==p.className?(this.originalIframeHasLoadedAlready=!1,k("The destination publishing iframe already exists from a different library, but hadn't loaded yet.")):(this.originalIframeHasLoadedAlready=!0,this.iframeHasLoaded=!0,this.iframe=
p,this.fireIframeLoadedCallbacks("The destination publishing iframe already exists from a different library, and had loaded alresady."),this.requestToProcess())):c();this.iframe=p},fireIframeLoadedCallbacks:function(c){this.iframeLoadedCallbacks.forEach(function(k){"function"==typeof k&&k({message:c||"The destination publishing iframe was attached and loaded successfully."})});this.iframeLoadedCallbacks=[]},requestToProcess:function(c){function k(){p.jsonForComparison.push(c);p.jsonWaiting.push(c);
p.processSyncOnPage(c)}var m,p=this;if(c===Object(c)&&c.ibs)if(m=JSON.stringify(c.ibs||[]),this.jsonForComparison.length){var r,q,n=!1;var a=0;for(r=this.jsonForComparison.length;a<r;a++)if(q=this.jsonForComparison[a],m===JSON.stringify(q.ibs||[])){n=!0;break}n?this.jsonDuplicates.push(c):k()}else k();(this.receivedThirdPartyCookiesNotification||!aa||this.iframeHasLoaded)&&this.jsonWaiting.length&&(m=this.jsonWaiting.shift(),this.process(m),this.requestToProcess());d.idSyncDisableSyncs||d.disableIdSyncs||
!this.iframeHasLoaded||!this.messages.length||this.sendingMessages||(this.throttleTimerSet||(this.throttleTimerSet=!0,setTimeout(function(){p.messageSendingInterval=aa?null:150},this.THROTTLE_START)),this.sendingMessages=!0,this.sendMessages())},getRegionAndCheckIfChanged:function(c,k){var m=d._getField("MCAAMLH");c=c.d_region||c.dcs_region;return m?c&&(d._setFieldExpire("MCAAMLH",k),d._setField("MCAAMLH",c),parseInt(m,10)!==c&&(this.regionChanged=!0,this.timesRegionChanged++,d._setField("MCSYNCSOP",
""),d._setField("MCSYNCS",""),m=c)):(m=c)&&(d._setFieldExpire("MCAAMLH",k),d._setField("MCAAMLH",m)),m||(m=""),m},processSyncOnPage:function(c){var k,m;if((k=c.ibs)&&k instanceof Array&&(m=k.length))for(c=0;c<m;c++){var p=k[c];p.syncOnPage&&this.checkFirstPartyCookie(p,"","syncOnPage")}},process:function(c){var k,m,p,r=encodeURIComponent,q=!1;if((k=c.ibs)&&k instanceof Array&&(m=k.length))for(q=!0,p=0;p<m;p++){var n=k[p];var a=[r("ibs"),r(n.id||""),r(n.tag||""),E.encodeAndBuildRequest(n.url||[],","),
r(n.ttl||""),"","",n.fireURLSync?"true":"false"];n.syncOnPage||(this.canSetThirdPartyCookies?this.addMessage(a.join("|")):n.fireURLSync&&this.checkFirstPartyCookie(n,a.join("|")))}q&&this.jsonProcessed.push(c)},checkFirstPartyCookie:function(c,k,m){var p=(m="syncOnPage"===m)?"MCSYNCSOP":"MCSYNCS";d._readVisitor();var r,q,n=d._getField(p),a=!1,x=!1,v=Math.ceil((new Date).getTime()/864E5);n?(r=n.split("*"),q=this.pruneSyncData(r,c.id,v),a=q.dataPresent,x=q.dataValid,a&&x||this.fireSync(m,c,k,r,p,v)):
(r=[],this.fireSync(m,c,k,r,p,v))},pruneSyncData:function(c,k,m){var p,r=!1,q=!1;for(p=0;p<c.length;p++){var n=c[p];var a=parseInt(n.split("-")[1],10);n.match("^"+k+"-")?(r=!0,m<a?q=!0:(c.splice(p,1),p--)):m>=a&&(c.splice(p,1),p--)}return{dataPresent:r,dataValid:q}},manageSyncsSize:function(c){if(c.join("*").length>this.MAX_SYNCS_LENGTH)for(c.sort(function(k,m){return parseInt(k.split("-")[1],10)-parseInt(m.split("-")[1],10)});c.join("*").length>this.MAX_SYNCS_LENGTH;)c.shift()},fireSync:function(c,
k,m,p,r,q){var n=this;if(c){if("img"===k.tag){var a=k.url,x=d.loadSSL?"https:":"http:";c=0;for(m=a.length;c<m;c++){p=a[c];var v=/^\/\//.test(p);var y=new Image;y.addEventListener("load",function(F,H,J,Q){return function(){n.onPagePixels[F]=null;d._readVisitor();var I=d._getField(r);var S=[];if(I){I=I.split("*");var C;var z=0;for(C=I.length;z<C;z++){var G=I[z];G.match("^"+H.id+"-")||S.push(G)}}n.setSyncTrackingData(S,H,J,Q)}}(this.onPagePixels.length,k,r,q));y.src=(v?x:"")+p;this.onPagePixels.push(y)}}}else this.addMessage(m),
this.setSyncTrackingData(p,k,r,q)},addMessage:function(c){var k=encodeURIComponent(d._enableErrorReporting?"---destpub-debug---":"---destpub---");this.messages.push((aa?"":k)+c)},setSyncTrackingData:function(c,k,m,p){c.push(k.id+"-"+(p+Math.ceil(k.ttl/60/24)));this.manageSyncsSize(c);d._setField(m,c.join("*"))},sendMessages:function(){var c,k=this,m="",p=encodeURIComponent;this.regionChanged&&(m=p("---destpub-clear-dextp---"),this.regionChanged=!1);this.messages.length?aa?(c=m+p("---destpub-combined---")+
this.messages.join("%01"),this.postMessage(c),this.messages=[],this.sendingMessages=!1):(c=this.messages.shift(),this.postMessage(m+c),setTimeout(function(){k.sendMessages()},this.messageSendingInterval)):this.sendingMessages=!1},postMessage:function(c){oa.postMessage(c,this.url,this.iframe.contentWindow);this.messagesPosted.push(c)},receiveMessage:function(c){var k,m=/^---destpub-to-parent---/;"string"==typeof c&&m.test(c)&&(k=c.replace(m,"").split("|"),"canSetThirdPartyCookies"===k[0]&&(this.canSetThirdPartyCookies=
"true"===k[1],this.receivedThirdPartyCookiesNotification=!0,this.requestToProcess()),this.messagesReceived.push(c))},processIDCallData:function(c){(null==this.url||c.subdomain&&"nosubdomainreturned"===this.subdomain)&&("string"==typeof d._subdomain&&d._subdomain.length?this.subdomain=d._subdomain:this.subdomain=c.subdomain||"",this.url=this.getUrl());c.ibs instanceof Array&&c.ibs.length&&(this.doAttachIframe=!0);this.readyToAttachIframe()&&(d.idSyncAttachIframeOnWindowLoad?(f.windowLoaded||"complete"===
g.readyState||"loaded"===g.readyState)&&this.attachIframe():this.attachIframeASAP());"function"==typeof d.idSyncIDCallResult?d.idSyncIDCallResult(c):this.requestToProcess(c);"function"==typeof d.idSyncAfterIDCallResult&&d.idSyncAfterIDCallResult(c)},canMakeSyncIDCall:function(c,k){return d._forceSyncIDCall||!c||1<k-c},attachIframeASAP:function(){function c(){k.startedAttachingIframe||(g.body?k.attachIframe():setTimeout(c,30))}var k=this;c()}}},Ea={audienceManagerServer:{},audienceManagerServerSecure:{},
cookieDomain:{},cookieLifetime:{},cookieName:{},doesOptInApply:{},disableThirdPartyCalls:{},discardTrackingServerECID:{},idSyncAfterIDCallResult:{},idSyncAttachIframeOnWindowLoad:{},idSyncContainerID:{},idSyncDisable3rdPartySyncing:{},disableThirdPartyCookies:{},idSyncDisableSyncs:{},disableIdSyncs:{},idSyncIDCallResult:{},idSyncSSLUseAkamai:{},isCoopSafe:{},isIabContext:{},isOptInStorageEnabled:{},loadSSL:{},loadTimeout:{},marketingCloudServer:{},marketingCloudServerSecure:{},optInCookieDomain:{},
optInStorageExpiry:{},overwriteCrossDomainMCIDAndAID:{},preOptInApprovals:{},previousPermissions:{},resetBeforeVersion:{},sdidParamExpiry:{},serverState:{},sessionCookieName:{},secureCookie:{},takeTimeoutMetrics:{},trackingServer:{},trackingServerSecure:{},whitelistIframeDomains:{},whitelistParentDomain:{}},Fa={getConfigNames:function(){return Object.keys(Ea)},getConfigs:function(){return Ea},normalizeConfig:function(d){return"function"!=typeof d?d:d()}},Ka=function(d){var f={};return d.on=function(g,
c,k){if(!c||"function"!=typeof c)throw Error("[ON] Callback should be a function.");f.hasOwnProperty(g)||(f[g]=[]);var m=f[g].push({callback:c,context:k})-1;return function(){f[g].splice(m,1);f[g].length||delete f[g]}},d.off=function(g,c){f.hasOwnProperty(g)&&(f[g]=f[g].filter(function(k){if(k.callback!==c)return k}))},d.publish=function(g){if(f.hasOwnProperty(g)){var c=[].slice.call(arguments,1);f[g].slice(0).forEach(function(k){k.callback.apply(k.context,c)})}},d.publish},T={PENDING:"pending",CHANGED:"changed",
COMPLETE:"complete"},X={AAM:"aam",ADCLOUD:"adcloud",ANALYTICS:"aa",CAMPAIGN:"campaign",ECID:"ecid",LIVEFYRE:"livefyre",TARGET:"target",VIDEO_ANALYTICS:"videoaa"},pa=(U={},O(U,X.AAM,565),O(U,X.ECID,565),U),bb=(Y={},O(Y,X.AAM,[1,2,5]),O(Y,X.ECID,[1,2,5]),Y),ia=function(d){return Object.keys(d).map(function(f){return d[f]})}(X),ta=function(){var d={};return d.callbacks=Object.create(null),d.add=function(f,g){if(!("function"==typeof g||g instanceof Array&&g.length))throw Error("[callbackRegistryFactory] Make sure callback is a function or an array of functions.");
d.callbacks[f]=d.callbacks[f]||[];var c=d.callbacks[f].push(g)-1;return function(){d.callbacks[f].splice(c,1)}},d.execute=function(f,g){if(d.callbacks[f]){g=void 0===g?[]:g;g=g instanceof Array?g:[g];try{for(;d.callbacks[f].length;){var c=d.callbacks[f].shift();"function"==typeof c?c.apply(null,g):c instanceof Array&&c[1].apply(c[0],g)}delete d.callbacks[f]}catch(k){}}},d.executeAll=function(f,g){(g||f&&(f!==Object(f)||0!==Object.keys(f).length))&&Object.keys(d.callbacks).forEach(function(c){d.execute(c,
void 0!==f[c]?f[c]:"")},d)},d.hasCallbacks=function(){return!!Object.keys(d.callbacks).length},d},cb=function(){},qa=function(d,f,g){return g()?function(){var c=window.console;if(c&&"function"==typeof c[d]){c=arguments.length;for(var k=Array(c),m=0;m<c;m++)k[m]=arguments[m];console[d].apply(console,[f].concat(k))}}:cb},da=new function(){var d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){return!0};this.log=qa("log",d,
f);this.warn=qa("warn",d,f);this.error=qa("error",d,f)}("[ADOBE OPT-IN]"),ma=function(d,f){return d instanceof Array?d:"string"===N(d)?[d]:f||[]},Ia=function(d){var f=Object.keys(d);return!!f.length&&f.every(function(g){return!0===d[g]})},na=function(d){return!(!d||db(d))&&ma(d).every(function(f){return-1<ia.indexOf(f)})},sa=function(d,f){return d.reduce(function(g,c){return g[c]=f,g},{})},db=function(d){return"[object Array]"===Object.prototype.toString.call(d)&&!d.length},ua=function(d){if(Ga(d))return d;
try{return JSON.parse(d)}catch(f){return{}}},ha=function(d){var f;if(!(f=void 0===d)){if(Ga(d))var g=na(Object.keys(d));else try{var c=JSON.parse(d);g=!!d&&"string"===N(d)&&na(Object.keys(c))}catch(k){g=!1}f=g}return f},Ga=function(d){return null!==d&&"object"===N(d)&&!1===Array.isArray(d)},ba=function(){},Ja=function(d){return"function"===N(d)?d():d},eb=function(d){return Object.keys(d).map(function(f){return d[f]})},fb=function(d){return eb(d).filter(function(f,g,c){return c.indexOf(f)===g})},Ma=
function(d){return function(){var f=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},g=f.command,c=f.params;c=void 0===c?{}:c;f=f.callback;f=void 0===f?ba:f;if(!g||-1===g.indexOf("."))throw Error("[OptIn.execute] Please provide a valid command.");try{var k=g.split("."),m=d[k[0]],p=k[1];if(!m||"function"!=typeof m[p])throw Error("Make sure the plugin and API name exist.");var r=Object.assign(c,{callback:f});m[p].call(m,r)}catch(q){da.error("[execute] Something went wrong: "+q.message)}}};
ca.prototype=Object.create(Error.prototype);ca.prototype.constructor=ca;var ra="fetchPermissions",La="[OptIn#registerPlugin] Plugin is invalid.";la.Categories=X;la.TimeoutError=ca;U=Object.freeze({OptIn:la,IabPlugin:function(){var d=this;d.name="iabPlugin";d.version="0.0.1";var f=ta(),g={allConsentData:null},c=function(q){return g[q]=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}};d.fetchConsentData=function(q){q=va(q.callback,q.timeout);k({callback:q})};d.isApproved=function(q){var n=
q.callback,a=q.category;q=q.timeout;if(g.allConsentData)return n(null,r(a,g.allConsentData.vendorConsents,g.allConsentData.purposeConsents));q=va(function(x){var v=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};n(x,r(a,v.vendorConsents,v.purposeConsents))},q);k({category:a,callback:q})};d.onRegister=function(q){var n=Object.keys(pa);d.fetchConsentData({callback:function(a){var x=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},v=x.purposeConsents,y=x.gdprApplies,F=x.vendorConsents;
!a&&y&&F&&v&&(n.forEach(function(H){var J=r(H,F,v);q[J?"approve":"deny"](H,!0)}),q.complete())}})};var k=function(q){q=q.callback;if(g.allConsentData)return q(null,g.allConsentData);f.add("FETCH_CONSENT_DATA",q);var n={};p(function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},x=a.purposeConsents,v=a.gdprApplies;a=a.vendorConsents;1<arguments.length&&arguments[1]&&(n={purposeConsents:x,gdprApplies:v,vendorConsents:a},c("allConsentData",n));m(function(){var y=0<arguments.length&&
void 0!==arguments[0]?arguments[0]:{};1<arguments.length&&arguments[1]&&(n.consentString=y.consentData,c("allConsentData",n));f.execute("FETCH_CONSENT_DATA",[null,g.allConsentData])})})},m=function(q){var n=wa();n&&n("getConsentData",null,q)},p=function(q){var n=fb(pa),a=wa();a&&a("getVendorConsents",n,q)},r=function(q){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return!!(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{})[pa[q]]&&function(){return bb[q].every(function(a){return n[a]})}()}}});
var gb=function(d,f){d.publishDestinations=function(g,c,k){var m=k;try{m="function"==typeof m?m:g.callback}catch(q){m=function(){}}if(!f.readyToAttachIframePreliminary())return void m({error:"The destination publishing iframe is disabled in the Visitor library."});if("string"==typeof g){if(!g.length)return void m({error:"subdomain is not a populated string."});if(!(c instanceof Array&&c.length))return void m({error:"messages is not a populated array."});var p=!1;if(c.forEach(function(q){"string"==
typeof q&&q.length&&(f.addMessage(q),p=!0)}),!p)return void m({error:"None of the messages are populated strings."})}else{if(!E.isObject(g))return void m({error:"Invalid parameters passed."});c=g;if("string"!=typeof(g=c.subdomain)||!g.length)return void m({error:"config.subdomain is not a populated string."});c=c.urlDestinations;if(!(c instanceof Array&&c.length))return void m({error:"config.urlDestinations is not a populated array."});var r=[];c.forEach(function(q){E.isObject(q)&&(q.hideReferrer?
q.message&&f.addMessage(q.message):r.push(q))});!function n(){r.length&&setTimeout(function(){var a=new Image,x=r.shift();a.src=x.url;f.onPageDestinationsFired.push(x);n()},100)}()}f.iframe?(m({message:"The destination publishing iframe is already attached and loaded."}),f.requestToProcess()):!d.subdomain&&d._getField("MCMID")?(f.subdomain=g,f.doAttachIframe=!0,f.url=f.getUrl(),f.readyToAttachIframe()?(f.iframeLoadedCallbacks.push(function(q){m({message:"Attempted to attach and load the destination publishing iframe through this API call. Result: "+
(q.message||"no result")})}),f.attachIframe()):m({error:"Encountered a problem in attempting to attach and load the destination publishing iframe through this API call."})):f.iframeLoadedCallbacks.push(function(q){m({message:"Attempted to attach and load the destination publishing iframe through normal Visitor API processing. Result: "+(q.message||"no result")})})}},hb=function g(f){function c(H,J){return H>>>J|H<<32-J}var k;var m=Math.pow;for(var p=m(2,32),r="",q=[],n=8*f.length,a=g.h=g.h||[],x=
g.k=g.k||[],v=x.length,y={},F=2;64>v;F++)if(!y[F]){for(k=0;313>k;k+=F)y[k]=F;a[v]=m(F,.5)*p|0;x[v++]=m(F,1/3)*p|0}for(f+="\u0080";f.length%64-56;)f+="\x00";for(k=0;k<f.length;k++){if((m=f.charCodeAt(k))>>8)return;q[k>>2]|=m<<(3-k)%4*8}q[q.length]=n/p|0;q[q.length]=n;for(m=0;m<q.length;){f=q.slice(m,m+=16);p=a;a=a.slice(0,8);for(k=0;64>k;k++)v=f[k-15],y=f[k-2],n=a[0],F=a[4],v=a[7]+(c(F,6)^c(F,11)^c(F,25))+(F&a[5]^~F&a[6])+x[k]+(f[k]=16>k?f[k]:f[k-16]+(c(v,7)^c(v,18)^v>>>3)+f[k-7]+(c(y,17)^c(y,19)^
y>>>10)|0),a=[v+((c(n,2)^c(n,13)^c(n,22))+(n&a[1]^n&a[2]^a[1]&a[2]))|0].concat(a),a[4]=a[4]+v|0;for(k=0;8>k;k++)a[k]=a[k]+p[k]|0}for(k=0;8>k;k++)for(m=3;m+1;m--)q=a[k]>>8*m&255,r+=(16>q?0:"")+q.toString(16);return r},Ha=function(f,g){return"SHA-256"!==g&&"SHA256"!==g&&"sha256"!==g&&"sha-256"!==g||(f=hb(f)),f};Y=U.OptIn;E.defineGlobalNamespace();window.adobe.OptInCategories=Y.Categories;var W=function(f,g,c){function k(b){return function(h){h=h||H.location.href;try{var l=a._extractParamFromUri(h,b);
if(l)return z.parsePipeDelimetedKeyValues(l)}catch(t){}}}function m(b){b=b||{};a._supplementalDataIDCurrent=b.supplementalDataIDCurrent||"";a._supplementalDataIDCurrentConsumed=b.supplementalDataIDCurrentConsumed||{};a._supplementalDataIDLast=b.supplementalDataIDLast||"";a._supplementalDataIDLastConsumed=b.supplementalDataIDLastConsumed||{}}function p(b){return function(h){var l=z.getTimestampInSeconds();return h=h?h+="|":h,h+("TS\x3d"+l)}(b.reduce(function(h,l){var t=l[0];l=l[1];if(null!=l&&l!==
I){var u=h;h=(u=u?u+="|":u,u+(t+"\x3d"+encodeURIComponent(l)))}return h},""))}function r(){return a.configs.isIabContext?x.optIn.isApproved(x.optIn.Categories.ECID)&&y:x.optIn.isApproved(x.optIn.Categories.ECID)}function q(b,h){if(y=!0,b)throw Error("[IAB plugin] : "+b);h.gdprApplies&&(v=h.consentString);a.init();x.optIn.off("complete",n)}function n(){x.optIn.isApproved(x.optIn.Categories.ECID)&&(a.configs.isIabContext?x.optIn.execute({command:"iabPlugin.fetchConsentData",callback:q}):(a.init(),x.optIn.off("complete",
n)))}if(!c||c.split("").reverse().join("")!==f)throw Error("Please use `Visitor.getInstance` to instantiate Visitor.");var a=this,x=window.adobe,v="",y=!1,F=!1;a.version="4.4.0";var H=B,J=H.Visitor;J.version=a.version;J.AuthState=Oa;J.OptOut=Pa;H.s_c_in||(H.s_c_il=[],H.s_c_in=0);a._c="Visitor";a._il=H.s_c_il;a._in=H.s_c_in;a._il[a._in]=a;H.s_c_in++;a._instanceType="regular";a._log={requests:[]};a.marketingCloudOrgID=f;a.cookieName="AMCV_"+f;a.sessionCookieName="AMCVS_"+f;a.cookieDomain=Aa();a.loadSSL=
0<=H.location.protocol.toLowerCase().indexOf("https");a.loadTimeout=3E4;a.CORSErrors=[];a.marketingCloudServer=a.audienceManagerServer="dpm.demdex.net";a.sdidParamExpiry=30;var Q=null,I="NONE",S=$a(a);a.FIELDS=Na;a.cookieRead=function(b){return Z.get(b)};a.cookieWrite=function(b,h,l){var t=a.cookieLifetime?(""+a.cookieLifetime).toUpperCase():"",u=!1;return a.configs&&a.configs.secureCookie&&"https:"===location.protocol&&(u=!0),Z.set(b,""+h,{expires:l,domain:a.cookieDomain,cookieLifetime:t,secure:u})};
a.resetState=function(b){b?a._mergeServerState(b):m()};a._isAllowedDone=!1;a._isAllowedFlag=!1;a.isAllowed=function(){return a._isAllowedDone||(a._isAllowedDone=!0,(a.cookieRead(a.cookieName)||a.cookieWrite(a.cookieName,"T",1))&&(a._isAllowedFlag=!0)),"T"===a.cookieRead(a.cookieName)&&a._helpers.removeCookie(a.cookieName),a._isAllowedFlag};a.setMarketingCloudVisitorID=function(b){a._setMarketingCloudFields(b)};a._use1stPartyMarketingCloudServer=!1;a.getMarketingCloudVisitorID=function(b,h){a.marketingCloudServer&&
0>a.marketingCloudServer.indexOf(".demdex.net")&&(a._use1stPartyMarketingCloudServer=!0);var l=a._getAudienceManagerURLData("_setMarketingCloudFields");return a._getRemoteField("MCMID",l.url,b,h,l)};a.getVisitorValues=function(b,h){var l={MCMID:{fn:a.getMarketingCloudVisitorID,args:[!0],context:a},MCOPTOUT:{fn:a.isOptedOut,args:[void 0,!0],context:a},MCAID:{fn:a.getAnalyticsVisitorID,args:[!0],context:a},MCAAMLH:{fn:a.getAudienceManagerLocationHint,args:[!0],context:a},MCAAMB:{fn:a.getAudienceManagerBlob,
args:[!0],context:a}};h=h&&h.length?E.pluck(l,h):l;Ya(h,b)};a._currentCustomerIDs={};a._customerIDsHashChanged=!1;a._newCustomerIDsHash="";a.setCustomerIDs=function(b,h){function l(){a._customerIDsHashChanged=!1}if(!a.isOptedOut()&&b){if(!E.isObject(b)||E.isObjectEmpty(b))return!1;a._readVisitor();var t,u,w;for(t in b)if(!Object.prototype[t]&&(u=b[t],h=u.hasOwnProperty("hashType")?u.hashType:h,u))if("object"===N(u)){var D={};if(u.id){if(h){if(!(w=Ha(String(u.id).trim().toLowerCase(),h)))return;u.id=
w;D.hashType=h}D.id=u.id}void 0!=u.authState&&(D.authState=u.authState);a._currentCustomerIDs[t]=D}else if(h){if(!(w=Ha(String(u).trim().toLowerCase(),h)))return;a._currentCustomerIDs[t]={id:w,hashType:h}}else a._currentCustomerIDs[t]={id:u};b=a.getCustomerIDs();h=a._getField("MCCIDH");w="";h||(h=0);for(t in b)!Object.prototype[t]&&(u=b[t],w+=(w?"|":"")+t+"|"+(u.id?u.id:"")+(u.authState?u.authState:""));a._newCustomerIDsHash=String(a._hash(w));a._newCustomerIDsHash!==h&&(a._customerIDsHashChanged=
!0,a._mapCustomerIDs(l))}};a.getCustomerIDs=function(){a._readVisitor();var b,h,l={};for(b in a._currentCustomerIDs)!Object.prototype[b]&&(h=a._currentCustomerIDs[b],l[b]||(l[b]={}),h.id&&(l[b].id=h.id),void 0!=h.authState?l[b].authState=h.authState:l[b].authState=J.AuthState.UNKNOWN,h.hashType&&(l[b].hashType=h.hashType));return l};a.setAnalyticsVisitorID=function(b){a._setAnalyticsFields(b)};a.getAnalyticsVisitorID=function(b,h,l){if(!z.isTrackingServerPopulated()&&!l)return a._callCallback(b,[""]),
"";var t="";if(l||(t=a.getMarketingCloudVisitorID(function(K){a.getAnalyticsVisitorID(b,!0)})),t||l){var u=l?a.marketingCloudServer:a.trackingServer,w="";a.loadSSL&&(l?a.marketingCloudServerSecure&&(u=a.marketingCloudServerSecure):a.trackingServerSecure&&(u=a.trackingServerSecure));var D={};if(u){u="http"+(a.loadSSL?"s":"")+"://"+u+"/id";t="d_visid_ver\x3d"+a.version+"\x26mcorgid\x3d"+encodeURIComponent(a.marketingCloudOrgID)+(t?"\x26mid\x3d"+encodeURIComponent(t):"")+(a.idSyncDisable3rdPartySyncing||
a.disableThirdPartyCookies?"\x26d_coppa\x3dtrue":"");var L=["s_c_il",a._in,"_set"+(l?"MarketingCloud":"Analytics")+"Fields"];w=u+"?"+t+"\x26callback\x3ds_c_il%5B"+a._in+"%5D._set"+(l?"MarketingCloud":"Analytics")+"Fields";D.corsUrl=u+"?"+t;D.callback=L}return D.url=w,a._getRemoteField(l?"MCMID":"MCAID",w,b,h,D)}return""};a.getAudienceManagerLocationHint=function(b,h){if(a.getMarketingCloudVisitorID(function(t){a.getAudienceManagerLocationHint(b,!0)})){var l=a._getField("MCAID");if(!l&&z.isTrackingServerPopulated()&&
(l=a.getAnalyticsVisitorID(function(t){a.getAudienceManagerLocationHint(b,!0)})),l||!z.isTrackingServerPopulated())return l=a._getAudienceManagerURLData(),a._getRemoteField("MCAAMLH",l.url,b,h,l)}return""};a.getLocationHint=a.getAudienceManagerLocationHint;a.getAudienceManagerBlob=function(b,h){if(a.getMarketingCloudVisitorID(function(u){a.getAudienceManagerBlob(b,!0)})){var l=a._getField("MCAID");if(!l&&z.isTrackingServerPopulated()&&(l=a.getAnalyticsVisitorID(function(u){a.getAudienceManagerBlob(b,
!0)})),l||!z.isTrackingServerPopulated()){l=a._getAudienceManagerURLData();var t=l.url;return a._customerIDsHashChanged&&a._setFieldExpire("MCAAMB",-1),a._getRemoteField("MCAAMB",t,b,h,l)}}return""};a._supplementalDataIDCurrent="";a._supplementalDataIDCurrentConsumed={};a._supplementalDataIDLast="";a._supplementalDataIDLastConsumed={};a.getSupplementalDataID=function(b,h){a._supplementalDataIDCurrent||h||(a._supplementalDataIDCurrent=a._generateID(1));var l=a._supplementalDataIDCurrent;return a._supplementalDataIDLast&&
!a._supplementalDataIDLastConsumed[b]?(l=a._supplementalDataIDLast,a._supplementalDataIDLastConsumed[b]=!0):l&&(a._supplementalDataIDCurrentConsumed[b]&&(a._supplementalDataIDLast=a._supplementalDataIDCurrent,a._supplementalDataIDLastConsumed=a._supplementalDataIDCurrentConsumed,a._supplementalDataIDCurrent=l=h?"":a._generateID(1),a._supplementalDataIDCurrentConsumed={}),l&&(a._supplementalDataIDCurrentConsumed[b]=!0)),l};var C=!1;a._liberatedOptOut=null;a.getOptOut=function(b,h){var l=a._getAudienceManagerURLData("_setMarketingCloudFields"),
t=l.url;if(r())return a._getRemoteField("MCOPTOUT",t,b,h,l);if(a._registerCallback("liberatedOptOut",b),null!==a._liberatedOptOut)return a._callAllCallbacks("liberatedOptOut",[a._liberatedOptOut]),C=!1,a._liberatedOptOut;if(C)return null;C=!0;return l.corsUrl=l.corsUrl.replace(/dpm\.demdex\.net\/id\?/,"dpm.demdex.net/optOutStatus?"),l.callback=["liberatedGetOptOut"],B.liberatedGetOptOut=function(u){if(u===Object(u)){u=E.parseOptOut(u,w,I);var w=u.optOut;u=1E3*u.d_ottl;a._liberatedOptOut=w;setTimeout(function(){a._liberatedOptOut=
null},u)}a._callAllCallbacks("liberatedOptOut",[w]);C=!1},S.fireCORS(l),null};a.isOptedOut=function(b,h,l){h||(h=J.OptOut.GLOBAL);return(l=a.getOptOut(function(t){t=t===J.OptOut.GLOBAL||0<=t.indexOf(h);a._callCallback(b,[t])},l))?l===J.OptOut.GLOBAL||0<=l.indexOf(h):null};a._fields=null;a._fieldsExpired=null;a._hash=function(b){var h,l=0;if(b)for(h=0;h<b.length;h++){var t=b.charCodeAt(h);l=(l<<5)-l+t;l&=l}return l};a._generateID=Za;a._generateLocalMID=function(){var b=a._generateID(0);return M.isClientSideMarketingCloudVisitorID=
!0,b};a._callbackList=null;a._callCallback=function(b,h){try{"function"==typeof b?b.apply(H,h):b[1].apply(b[0],h)}catch(l){}};a._registerCallback=function(b,h){h&&(null==a._callbackList&&(a._callbackList={}),void 0==a._callbackList[b]&&(a._callbackList[b]=[]),a._callbackList[b].push(h))};a._callAllCallbacks=function(b,h){if(null!=a._callbackList&&(b=a._callbackList[b]))for(;0<b.length;)a._callCallback(b.shift(),h)};a._addQuerystringParam=function(b,h,l,t){h=encodeURIComponent(h)+"\x3d"+encodeURIComponent(l);
l=z.parseHash(b);b=z.hashlessUrl(b);if(-1===b.indexOf("?"))return b+"?"+h+l;b=b.split("?");return b[0]+"?"+z.addQueryParamAtLocation(b[1],h,t)+l};a._extractParamFromUri=function(b,h){if((b=(new RegExp("[\\?\x26#]"+h+"\x3d([^\x26#]*)")).exec(b))&&b.length)return decodeURIComponent(b[1])};a._parseAdobeMcFromUrl=k("adobe_mc");a._parseAdobeMcSdidFromUrl=k("adobe_mc_sdid");a._attemptToPopulateSdidFromUrl=function(b){b=a._parseAdobeMcSdidFromUrl(b);var h=1E9;b&&b.TS&&(h=z.getTimestampInSeconds()-b.TS);
b&&b.SDID&&b.MCORGID===f&&h<a.sdidParamExpiry&&(a._supplementalDataIDCurrent=b.SDID,a._supplementalDataIDCurrentConsumed.SDID_URL_PARAM=!0)};a._attemptToPopulateIdsFromUrl=function(){var b=a._parseAdobeMcFromUrl();if(b&&b.TS){var h=z.getTimestampInSeconds()-b.TS;if(!(5<Math.floor(h/60)||b.MCORGID!==f)){h=b.MCMID;var l=a.setMarketingCloudVisitorID;h&&h.match(ja)&&(F=!0,l(h));a._setFieldExpire("MCAAMB",-1);b=b.MCAID;h=a.setAnalyticsVisitorID;b&&b.match(ja)&&h(b)}}};a._mergeServerState=function(b){if(b)try{if(b=
function(l){return z.isObject(l)?l:JSON.parse(l)}(b),b[a.marketingCloudOrgID]){var h=b[a.marketingCloudOrgID];!function(l){z.isObject(l)&&a.setCustomerIDs(l)}(h.customerIDs);m(h.sdid)}}catch(l){throw Error("`serverState` has an invalid format.");}};a._timeout=null;a._loadData=function(b,h,l,t){a._addQuerystringParam(h,"d_fieldgroup",b,1);t.url=a._addQuerystringParam(t.url,"d_fieldgroup",b,1);t.corsUrl=a._addQuerystringParam(t.corsUrl,"d_fieldgroup",b,1);M.fieldGroupObj[b]=!0;t===Object(t)&&t.corsUrl&&
"XMLHttpRequest"===S.corsMetadata.corsType&&S.fireCORS(t,l,b)};a._clearTimeout=function(b){null!=a._timeout&&a._timeout[b]&&(clearTimeout(a._timeout[b]),a._timeout[b]=0)};a._settingsDigest=0;a._getSettingsDigest=function(){if(!a._settingsDigest){var b=a.version;a.audienceManagerServer&&(b+="|"+a.audienceManagerServer);a.audienceManagerServerSecure&&(b+="|"+a.audienceManagerServerSecure);a._settingsDigest=a._hash(b)}return a._settingsDigest};a._readVisitorDone=!1;a._readVisitor=function(){if(!a._readVisitorDone){a._readVisitorDone=
!0;var b,h,l;var t=a._getSettingsDigest();var u=!1,w=a.cookieRead(a.cookieName),D=new Date;if(w||F||a.discardTrackingServerECID||(w=a.cookieRead("s_ecid")),null==a._fields&&(a._fields={}),w&&"T"!==w)for(w=w.split("|"),w[0].match(/^[\-0-9]+$/)&&(parseInt(w[0],10)!==t&&(u=!0),w.shift()),1==w.length%2&&w.pop(),b=0;b<w.length;b+=2){t=w[b].split("-");var L=t[0];var K=w[b+1];1<t.length?(h=parseInt(t[1],10),l=0<t[1].indexOf("s")):(h=0,l=!1);u&&("MCCIDH"===L&&(K=""),0<h&&(h=D.getTime()/1E3-60));L&&K&&(a._setField(L,
K,1),0<h&&(a._fields["expire"+L]=h+(l?"s":""),(D.getTime()>=1E3*h||l&&!a.cookieRead(a.sessionCookieName))&&(a._fieldsExpired||(a._fieldsExpired={}),a._fieldsExpired[L]=!0)))}!a._getField("MCAID")&&z.isTrackingServerPopulated()&&(w=a.cookieRead("s_vi"))&&(w=w.split("|"),1<w.length&&0<=w[0].indexOf("v1")&&(K=w[1],b=K.indexOf("["),0<=b&&(K=K.substring(0,b)),K&&K.match(ja)&&a._setField("MCAID",K)))}};a._appendVersionTo=function(b){var h="vVersion|"+a.version,l=b?a._getCookieVersion(b):null;return l?Ba.areVersionsDifferent(l,
a.version)&&(b=b.replace(Da,h)):b+=(b?"|":"")+h,b};a._writeVisitor=function(){var b,h,l=a._getSettingsDigest();for(b in a._fields)!Object.prototype[b]&&a._fields[b]&&"expire"!==b.substring(0,6)&&(h=a._fields[b],l+=(l?"|":"")+b+(a._fields["expire"+b]?"-"+a._fields["expire"+b]:"")+"|"+h);l=a._appendVersionTo(l);a.cookieWrite(a.cookieName,l,1)};a._getField=function(b,h){return null==a._fields||!h&&a._fieldsExpired&&a._fieldsExpired[b]?null:a._fields[b]};a._setField=function(b,h,l){null==a._fields&&(a._fields=
{});a._fields[b]=h;l||a._writeVisitor()};a._getFieldList=function(b,h){return(b=a._getField(b,h))?b.split("*"):null};a._setFieldList=function(b,h,l){a._setField(b,h?h.join("*"):"",l)};a._getFieldMap=function(b,h){if(b=a._getFieldList(b,h)){var l={};for(h=0;h<b.length;h+=2)l[b[h]]=b[h+1];return l}return null};a._setFieldMap=function(b,h,l){var t,u=null;if(h)for(t in u=[],h)!Object.prototype[t]&&(u.push(t),u.push(h[t]));a._setFieldList(b,u,l)};a._setFieldExpire=function(b,h,l){var t=new Date;t.setTime(t.getTime()+
1E3*h);null==a._fields&&(a._fields={});a._fields["expire"+b]=Math.floor(t.getTime()/1E3)+(l?"s":"");0>h?(a._fieldsExpired||(a._fieldsExpired={}),a._fieldsExpired[b]=!0):a._fieldsExpired&&(a._fieldsExpired[b]=!1);l&&(a.cookieRead(a.sessionCookieName)||a.cookieWrite(a.sessionCookieName,"1"))};a._findVisitorID=function(b){return b&&("object"===N(b)&&(b=b.d_mid?b.d_mid:b.visitorID?b.visitorID:b.id?b.id:b.uuid?b.uuid:""+b),b&&"NOTARGET"===(b=b.toUpperCase())&&(b=I),b&&(b===I||b.match(ja))||(b="")),b};
a._setFields=function(b,h){if(a._clearTimeout(b),null!=a._loading&&(a._loading[b]=!1),M.fieldGroupObj[b]&&M.setState(b,!1),"MC"===b){!0!==M.isClientSideMarketingCloudVisitorID&&(M.isClientSideMarketingCloudVisitorID=!1);var l=a._getField("MCMID");if(!l||a.overwriteCrossDomainMCIDAndAID){if(!(l="object"===N(h)&&h.mid?h.mid:a._findVisitorID(h))){if(a._use1stPartyMarketingCloudServer&&!a.tried1stPartyMarketingCloudServer)return a.tried1stPartyMarketingCloudServer=!0,void a.getAnalyticsVisitorID(null,
!1,!0);l=a._generateLocalMID()}a._setField("MCMID",l)}l&&l!==I||(l="");"object"===N(h)&&((h.d_region||h.dcs_region||h.d_blob||h.blob)&&a._setFields("AAM",h),a._use1stPartyMarketingCloudServer&&h.mid&&a._setFields("A",{id:h.id}));a._callAllCallbacks("MCMID",[l])}if("AAM"===b&&"object"===N(h)){l=604800;void 0!=h.id_sync_ttl&&h.id_sync_ttl&&(l=parseInt(h.id_sync_ttl,10));var t=G.getRegionAndCheckIfChanged(h,l);a._callAllCallbacks("MCAAMLH",[t]);t=a._getField("MCAAMB");(h.d_blob||h.blob)&&(t=h.d_blob,
t||(t=h.blob),a._setFieldExpire("MCAAMB",l),a._setField("MCAAMB",t));t||(t="");a._callAllCallbacks("MCAAMB",[t]);!h.error_msg&&a._newCustomerIDsHash&&a._setField("MCCIDH",a._newCustomerIDsHash)}"A"===b&&((b=a._getField("MCAID"))&&!a.overwriteCrossDomainMCIDAndAID||(b=a._findVisitorID(h),b?b!==I&&a._setFieldExpire("MCAAMB",-1):b=I,a._setField("MCAID",b)),b&&b!==I||(b=""),a._callAllCallbacks("MCAID",[b]));a.idSyncDisableSyncs||a.disableIdSyncs?G.idCallNotProcesssed=!0:(G.idCallNotProcesssed=!1,b={},
b.ibs=h.ibs,b.subdomain=h.subdomain,G.processIDCallData(b));if(h===Object(h)){var u;r()&&a.isAllowed()&&(u=a._getField("MCOPTOUT"));h=E.parseOptOut(h,u,I);u=h.optOut;a._setFieldExpire("MCOPTOUT",h.d_ottl,!0);a._setField("MCOPTOUT",u);a._callAllCallbacks("MCOPTOUT",[u])}};a._loading=null;a._getRemoteField=function(b,h,l,t,u){var w,D="",L=z.isFirstPartyAnalyticsVisitorIDCall(b),K={MCAAMLH:!0,MCAAMB:!0};if(r()&&a.isAllowed())if(a._readVisitor(),D=a._getField(b,!0===K[b]),!(!D||a._fieldsExpired&&a._fieldsExpired[b])||
a.disableThirdPartyCalls&&!L)D||("MCMID"===b?(a._registerCallback(b,l),D=a._generateLocalMID(),a.setMarketingCloudVisitorID(D)):"MCAID"===b?(a._registerCallback(b,l),D="",a.setAnalyticsVisitorID(D)):(D="",t=!0));else if("MCMID"===b||"MCOPTOUT"===b?w="MC":"MCAAMLH"===b||"MCAAMB"===b?w="AAM":"MCAID"===b&&(w="A"),w)return!h||null!=a._loading&&a._loading[w]||(null==a._loading&&(a._loading={}),a._loading[w]=!0,a._loadData(w,h,function(fa){a._getField(b)||(fa&&M.setState(w,!0),fa="","MCMID"===b?fa=a._generateLocalMID():
"AAM"===w&&(fa={error_msg:"timeout"}),a._setFields(w,fa))},u)),a._registerCallback(b,l),D||(h||a._setFields(w,{id:I}),"");return"MCMID"!==b&&"MCAID"!==b||D!==I||(D="",t=!0),l&&t&&a._callCallback(l,[D]),D};a._setMarketingCloudFields=function(b){a._readVisitor();a._setFields("MC",b)};a._mapCustomerIDs=function(b){a.getAudienceManagerBlob(b,!0)};a._setAnalyticsFields=function(b){a._readVisitor();a._setFields("A",b)};a._setAudienceManagerFields=function(b){a._readVisitor();a._setFields("AAM",b)};a._getAudienceManagerURLData=
function(b){var h=a.audienceManagerServer,l="",t=a._getField("MCMID"),u=a._getField("MCAAMB",!0),w=a._getField("MCAID");w=w&&w!==I?"\x26d_cid_ic\x3dAVID%01"+encodeURIComponent(w):"";if(a.loadSSL&&a.audienceManagerServerSecure&&(h=a.audienceManagerServerSecure),h){var D,L,K=a.getCustomerIDs();if(K)for(D in K)!Object.prototype[D]&&(L=K[D],w+="\x26d_cid_ic\x3d"+encodeURIComponent(D)+"%01"+encodeURIComponent(L.id?L.id:"")+(L.authState?"%01"+L.authState:""));b||(b="_setAudienceManagerFields");h="http"+
(a.loadSSL?"s":"")+"://"+h+"/id";t="d_visid_ver\x3d"+a.version+(v&&-1!==h.indexOf("demdex.net")?"\x26gdpr\x3d1\x26gdpr_force\x3d1\x26gdpr_consent\x3d"+v:"")+"\x26d_rtbd\x3djson\x26d_ver\x3d2"+(!t&&a._use1stPartyMarketingCloudServer?"\x26d_verify\x3d1":"")+"\x26d_orgid\x3d"+encodeURIComponent(a.marketingCloudOrgID)+"\x26d_nsid\x3d"+(a.idSyncContainerID||0)+(t?"\x26d_mid\x3d"+encodeURIComponent(t):"")+(a.idSyncDisable3rdPartySyncing||a.disableThirdPartyCookies?"\x26d_coppa\x3dtrue":"")+(!0===Q?"\x26d_coop_safe\x3d1":
!1===Q?"\x26d_coop_unsafe\x3d1":"")+(u?"\x26d_blob\x3d"+encodeURIComponent(u):"")+w;u=["s_c_il",a._in,b];return l=h+"?"+t+"\x26d_cb\x3ds_c_il%5B"+a._in+"%5D."+b,{url:l,corsUrl:h+"?"+t,callback:u}}return{url:l}};a.appendVisitorIDsTo=function(b){try{var h=[["MCMID",a._getField("MCMID")],["MCAID",a._getField("MCAID")],["MCORGID",a.marketingCloudOrgID]];return a._addQuerystringParam(b,"adobe_mc",p(h))}catch(l){return b}};a.appendSupplementalDataIDTo=function(b,h){if(!(h=h||a.getSupplementalDataID(z.generateRandomString(),
!0)))return b;try{var l=p([["SDID",h],["MCORGID",a.marketingCloudOrgID]]);return a._addQuerystringParam(b,"adobe_mc_sdid",l)}catch(t){return b}};var z={parseHash:function(b){var h=b.indexOf("#");return 0<h?b.substr(h):""},hashlessUrl:function(b){var h=b.indexOf("#");return 0<h?b.substr(0,h):b},addQueryParamAtLocation:function(b,h,l){b=b.split("\x26");return l=null!=l?l:b.length,b.splice(l,0,h),b.join("\x26")},isFirstPartyAnalyticsVisitorIDCall:function(b,h,l){if("MCAID"!==b)return!1;var t;return h||
(h=a.trackingServer),l||(l=a.trackingServerSecure),!("string"!=typeof(t=a.loadSSL?l:h)||!t.length)&&0>t.indexOf("2o7.net")&&0>t.indexOf("omtrdc.net")},isObject:function(b){return!(!b||b!==Object(b))},removeCookie:function(b){Z.remove(b,{domain:a.cookieDomain})},isTrackingServerPopulated:function(){return!!a.trackingServer||!!a.trackingServerSecure},getTimestampInSeconds:function(){return Math.round((new Date).getTime()/1E3)},parsePipeDelimetedKeyValues:function(b){return b.split("|").reduce(function(h,
l){l=l.split("\x3d");return h[l[0]]=decodeURIComponent(l[1]),h},{})},generateRandomString:function(b){b=b||5;for(var h="";b--;)h+="abcdefghijklmnopqrstuvwxyz0123456789"[Math.floor(36*Math.random())];return h},normalizeBoolean:function(b){return"true"===b||"false"!==b&&b},parseBoolean:function(b){return"true"===b||"false"!==b&&null},replaceMethodsWithFunction:function(b,h){for(var l in b)b.hasOwnProperty(l)&&"function"==typeof b[l]&&(b[l]=h);return b}};a._helpers=z;var G=ab(a,J);a._destinationPublishing=
G;a.timeoutMetricsLog=[];var M={isClientSideMarketingCloudVisitorID:null,MCIDCallTimedOut:null,AnalyticsIDCallTimedOut:null,AAMIDCallTimedOut:null,fieldGroupObj:{},setState:function(b,h){switch(b){case "MC":!1===h?!0!==this.MCIDCallTimedOut&&(this.MCIDCallTimedOut=!1):this.MCIDCallTimedOut=h;break;case "A":!1===h?!0!==this.AnalyticsIDCallTimedOut&&(this.AnalyticsIDCallTimedOut=!1):this.AnalyticsIDCallTimedOut=h;break;case "AAM":!1===h?!0!==this.AAMIDCallTimedOut&&(this.AAMIDCallTimedOut=!1):this.AAMIDCallTimedOut=
h}}};a.isClientSideMarketingCloudVisitorID=function(){return M.isClientSideMarketingCloudVisitorID};a.MCIDCallTimedOut=function(){return M.MCIDCallTimedOut};a.AnalyticsIDCallTimedOut=function(){return M.AnalyticsIDCallTimedOut};a.AAMIDCallTimedOut=function(){return M.AAMIDCallTimedOut};a.idSyncGetOnPageSyncInfo=function(){return a._readVisitor(),a._getField("MCSYNCSOP")};a.idSyncByURL=function(b){if(!a.isOptedOut()){var h=b||{};var l=h.minutesToLive,t="";h=((a.idSyncDisableSyncs||a.disableIdSyncs)&&
(t=t||"Error: id syncs have been disabled"),"string"==typeof h.dpid&&h.dpid.length||(t=t||"Error: config.dpid is empty"),"string"==typeof h.url&&h.url.length||(t=t||"Error: config.url is empty"),void 0===l?l=20160:(l=parseInt(l,10),(isNaN(l)||0>=l)&&(t=t||"Error: config.minutesToLive needs to be a positive number")),{error:t,ttl:l});if(h.error)return h.error;var u,w;l=b.url;t=encodeURIComponent;var D=G;return l=l.replace(/^https:/,"").replace(/^http:/,""),u=E.encodeAndBuildRequest(["",b.dpid,b.dpuuid||
""],","),w=["ibs",t(b.dpid),"img",t(l),h.ttl,"",u],D.addMessage(w.join("|")),D.requestToProcess(),"Successfully queued"}};a.idSyncByDataSource=function(b){if(!a.isOptedOut())return b===Object(b)&&"string"==typeof b.dpuuid&&b.dpuuid.length?(b.url="//dpm.demdex.net/ibs:dpid\x3d"+b.dpid+"\x26dpuuid\x3d"+b.dpuuid,a.idSyncByURL(b)):"Error: config or config.dpuuid is empty"};gb(a,G);a._getCookieVersion=function(b){b=b||a.cookieRead(a.cookieName);return(b=Da.exec(b))&&1<b.length?b[1]:null};a._resetAmcvCookie=
function(b){var h=a._getCookieVersion();h&&!Ba.isLessThan(h,b)||z.removeCookie(a.cookieName)};a.setAsCoopSafe=function(){Q=!0};a.setAsCoopUnsafe=function(){Q=!1};(function(){if(a.configs=Object.create(null),z.isObject(g))for(var b in g)!Object.prototype[b]&&(a[b]=g[b],a.configs[b]=g[b])})();(function(){[["getMarketingCloudVisitorID"],["setCustomerIDs",void 0],["getAnalyticsVisitorID"],["getAudienceManagerLocationHint"],["getLocationHint"],["getAudienceManagerBlob"]].forEach(function(b){var h=b[0],
l=2===b.length?b[1]:"",t=a[h];a[h]=function(u){return r()&&a.isAllowed()?t.apply(a,arguments):("function"==typeof u&&a._callCallback(u,[l]),l)}})})();a.init=function(){if(a.configs.doesOptInApply&&(!x.optIn.isComplete||!r()))return x.optIn.fetchPermissions(n,!0);!function(){if(z.isObject(g)){a.idSyncContainerID=a.idSyncContainerID||0;Q="boolean"==typeof a.isCoopSafe?a.isCoopSafe:z.parseBoolean(a.isCoopSafe);a.resetBeforeVersion&&a._resetAmcvCookie(a.resetBeforeVersion);a._attemptToPopulateIdsFromUrl();
a._attemptToPopulateSdidFromUrl();a._readVisitor();var b=a._getField("MCIDTS"),h=Math.ceil((new Date).getTime()/864E5);a.idSyncDisableSyncs||a.disableIdSyncs||!G.canMakeSyncIDCall(b,h)||(a._setFieldExpire("MCAAMB",-1),a._setField("MCIDTS",h));a.getMarketingCloudVisitorID();a.getAudienceManagerLocationHint();a.getAudienceManagerBlob();a._mergeServerState(a.serverState)}else a._attemptToPopulateIdsFromUrl(),a._attemptToPopulateSdidFromUrl()}();(function(){if(!a.idSyncDisableSyncs&&!a.disableIdSyncs){G.checkDPIframeSrc();
H.addEventListener("load",function(){J.windowLoaded=!0;var b=G;b.readyToAttachIframe()&&b.attachIframe()});try{oa.receiveMessage(function(b){G.receiveMessage(b.data)},G.iframeHost)}catch(b){}}})();(function(){a.whitelistIframeDomains&&aa&&(a.whitelistIframeDomains=a.whitelistIframeDomains instanceof Array?a.whitelistIframeDomains:[a.whitelistIframeDomains],a.whitelistIframeDomains.forEach(function(b){var h=new ya(f,b);h=Xa(a,h);oa.receiveMessage(h,b)}))})()}};W.config=Fa;B.Visitor=W;var ib=function(f){if(E.isObject(f))return Object.keys(f).filter(function(g){return""!==
f[g]}).reduce(function(g,c){var k="doesOptInApply"!==c?f[c]:Fa.normalizeConfig(f[c]);k=E.normalizeBoolean(k);return g[c]=k,g},Object.create(null))},jb=U.OptIn,kb=U.IabPlugin;return W.getInstance=function(f,g){if(!f)throw Error("Visitor requires Adobe Marketing Cloud Org ID.");0>f.indexOf("@")&&(f+="@AdobeOrg");var c=function(){var r=B.s_c_il;if(r)for(var q=0;q<r.length;q++){var n=r[q];if(n&&"Visitor"===n._c&&n.marketingCloudOrgID===f)return n}}();if(c)return c;c=ib(g);!function(r){var q=B.adobe,n;
(n=B.adobe.optIn)||(n=E.pluck(r,"doesOptInApply previousPermissions preOptInApprovals isOptInStorageEnabled optInStorageExpiry isIabContext".split(" ")),r=(r=r.optInCookieDomain||r.cookieDomain)||Aa(),r=r===window.location.hostname?"":r,n.optInCookieDomain=r,r=new jb(n,{cookies:Z}),n.isIabContext&&(n=new kb(window.__cmp),r.registerPlugin(n)),n=r);q.optIn=n}(c||{});var k=f.split("").reverse().join("");g=new W(f,null,k);E.isObject(c)&&c.cookieDomain&&(g.cookieDomain=c.cookieDomain);B.s_c_il.splice(--B.s_c_in,
1);var m=E.getIeVersion();if("number"==typeof m&&10>m)return g._helpers.replaceMethodsWithFunction(g,function(){});try{var p=B.self!==B.parent}catch(r){p=!0}p=p&&!function(r){return r.cookieWrite("TEST_AMCV_COOKIE","T",1),"T"===r.cookieRead("TEST_AMCV_COOKIE")&&(r._helpers.removeCookie("TEST_AMCV_COOKIE"),!0)}(g)&&B.parent?new Va(f,c,g,B.parent):new W(f,c,k);return g=null,p.init(),p},function(){function f(){W.windowLoaded=!0}B.addEventListener?B.addEventListener("load",f):B.attachEvent&&B.attachEvent("onload",
f);W.codeLoadEnd=(new Date).getTime()}(),W}(),visitor=Visitor.getInstance("EA76ADE95776D2EC7F000101@AdobeOrg",{idSyncContainerID:0,cookieLifetime:3419E4,cookieDomain:"microsoft.com",trackingServer:"Msftenterprise.sc.omtrdc.net",trackingServerSecure:"Msftenterprise.sc.omtrdc.net"});
function getCookie(N){var O,P=document.cookie.split(";");for(O=0;O<P.length;O++){var R=P[O].substr(0,P[O].indexOf("\x3d"));var ka=P[O].substr(P[O].indexOf("\x3d")+1);R=R.replace(/^\s+|\s+$/g,"");if(R==N)return unescape(ka)}}var cookie1=getCookie("ANON"),A=cookie1?cookie1.split("\x3d")[1].split("\x26")[0]:"",cookie2=getCookie("MC1"),GUID=cookie2?cookie2.split("\x3d")[1].split("\x26")[0]:"",cookie3=getCookie("MSFPC"),ID=cookie3?cookie3.split("\x3d")[1].split("\x26")[0]:"",customerIDs={},hasIDs=!1;
""!=A&&(customerIDs.ANON={id:A,authState:Visitor.AuthState.AUTHENTICATED},hasIDs=!0);""!=ID&&(customerIDs.MSFPC={id:ID,authState:Visitor.AuthState.LOGGED_OUT},hasIDs=!0);""!=GUID&&(customerIDs.MC1={id:GUID,authState:Visitor.AuthState.LOGGED_OUT},hasIDs=!0);hasIDs&&visitor.setCustomerIDs(customerIDs);